# Output file documentation

The following document provides further details on output files generated by the pipeline. The primary focus is on the outputs storing novel last exons, summarised quantifications and differential usage output. The outputs of Salmon (`<output_dir>/salmon`) and StringTie (`<output_dir>/stringtie`) are the standard outputs of the respective tools and not discussed here. For further details on these outputs please consult the respective documentations ([Salmon](https://salmon.readthedocs.io/en/latest/file_formats.html#fileformats), [StringTie](http://ccb.jhu.edu/software/stringtie/index.shtml?t=manual#output)).

**Sections:**
- [StringTie](#stringtie)
- [tx_filtering](#tx_filtering) 
- [differential_apa](#differential_apa)

## StringTie


## tx_filtering




## differential_apa

```
$ tree test_data_output/differential_apa/
test_data_output/differential_apa/
├── saturn_apa.image.RData
├── saturn_apa.results.processed.tsv
├── saturn_apa.results.tsv
├── summarised_pas_quantification.counts.tsv
├── summarised_pas_quantification.gene_tpm.tsv
├── summarised_pas_quantification.ppau.tsv
└── summarised_pas_quantification.tpm.tsv
```

The main output files of note are the metadata-augmented SatuRn results table (`saturn_apa.results.processed.tsv`) and various count/quantification matrices matrices (`summarised_pas_quantification.*.tsv`).

#### Differential usage output table - saturn_apa.results.processed.tsv

Example (`docs/eg_saturn_apa.processed.tsv`):

| le_id           | estimates          | se                | df               | t                  | pval              | regular_FDR       | empirical_pval    | empirical_FDR     | gene_id       | gene_name  | event_type            | annot_status | transcript_id                                       | chromosome | strand | start     | end       | mean_PPAU_group1  | mean_PPAU_group2  | delta_PPAU_group2_group1 |
|-----------------|--------------------|-------------------|------------------|--------------------|-------------------|-------------------|-------------------|-------------------|---------------|------------|-----------------------|--------------|-----------------------------------------------------|------------|--------|-----------|-----------|-------------------|-------------------|--------------------------|
| id_ref_gene_1_1 | 0.415039100493697  | 0.589230142933249 | 7.03243419293458 | 0.704375201220339  | 0.503850054121614 | 0.671800072162151 | 0.4370045389797   | 0.582672718639599 | id_ref_gene_1 | ref_gene_1 | first_exon_spliced    | novel        | PAPA.group1_sample_03.1.7,PAPA.group2_sample_04.1.6 | chr1       | +      | 500,500   | 700,700   | 0.590872704423076 | 0.657786636015101 | 0.0669139315920244       |
| id_ref_gene_1_2 | -0.165091323975517 | 0.613170710749629 | 7.03243419293458 | -0.269242025232558 | 0.79547203565435  | 0.79547203565435  | 0.831797003489061 | 0.831797003489061 | id_ref_gene_1 | ref_gene_1 | internal_exon_spliced | novel        | PAPA.group1_sample_01.1.5,PAPA.group2_sample_04.1.4 | chr1       | +      | 1400,1400 | 1600,1600 | 0.408580712549831 | 0.341357286373431 | -0.0672234261763997      |


Column descriptions:
- `le_id`
- `estimates`
- `se`
- `df`
- `t`
- `pval`
- `regular_FDR`
- `empirical_pval`
- `empirical_FDR`
- `gene_id`
- `gene_name`
- `event_type`
- `annot_status`
- `transcript_id`
- `chromosome`
- `strand`
- `start`
- `end`
- `mean_PPAU_group1`
- `mean_PPAU_group2`
- `delta_PPAU_group2_group1`


#### Other output files

- `saturn_apa.image.RData` - workspace/saved environment for the SatuRn run.
- `saturn_apa.results.tsv` - standard results dataframe output by a satuRn differential analysis 